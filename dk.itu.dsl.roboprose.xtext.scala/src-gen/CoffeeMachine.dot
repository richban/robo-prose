digraph "CoffeeMachine" {
  _init -> "initial";
  "initial" -> "selection"
      [label="coin / what drink do you want?"];
  "initial" -> "broken"
      [label="break / machine is broken"];
  "selection" -> "brewingTea"
      [label="tea / serving tea"];
  "selection" -> "brewingCoffee"
      [label="coffee / serving coffee"];
  "selection" -> "initial"
      [label="timeout / coin returned; insert coin"];
  "selection" -> "broken"
      [label="break / machine is broken!"];
  "brewingCoffee" -> "initial"
      [label="done / coffee served. Enjoy!"];
  "brewingCoffee" -> "broken"
      [label="break / machine is broken!"];
  "brewingTea" -> "initial"
      [label="done / tea served. Enjoy!"];
  "brewingTea" -> "broken"
      [label="break / machine is broken!"];

  initial [shape=doublecircle];
  _init [shape=point];
}
